<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Genie - DAL Generator </title>
    <meta name="description" content="Genie is a cross platform , open source .net data acces layer generator">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link media="screen" href="stylesheets/normalize.css" type="text/css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700">
    <link media="screen" href="stylesheets/stylesheet.css" type="text/css" rel="stylesheet">
    <link media="screen" href="stylesheets/github-light.css" type="text/css" rel="stylesheet">
    <link media="screen" href="stylesheets/css" type="text/css" rel="stylesheet">
    <style type="text/css">
        #share-buttons img {
            width: 35px;
            padding: 5px;
            border: 0;
            box-shadow: 0;
            display: inline;
        }
    </style>
</head>

<body>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <section class="page-header">
        <img src="imgs/genie_log.png" width="250px">
        <h2 class="project-tagline">Lightweight, Cross Platform, Open Source High speed Data Access Layer Generator for .Net and .Net Core</h2>
        <a class="btn" href="https://github.com/rusith/genie">View on GitHub</a>
        <a class="btn" href="https://github.com/rusith/Genie/releases">Download for Windows | Linux | Mac OSX</a>
        <h3 class="project-tagline" id="downloadcountdisplay"></h3>

        <!-- I got these buttons from simplesharebuttons.com -->
        <div id="share-buttons">
            <!-- Email -->
            <a onclick="onShareButtonClick(this, 'Email')" href="mailto:?Subject=Simple Share Buttons&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 https://rusith.github.io/Genie">
                <img src="https://simplesharebuttons.com/images/somacro/email.png" alt="Email" />
            </a>

            <!-- Facebook -->
            <a onclick="onShareButtonClick(this, 'Facebook')" href="http://www.facebook.com/sharer.php?u=https://rusith.github.io/Genie" target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/facebook.png" alt="Facebook" />
            </a>

            <!-- Google+ -->
            <a onclick="onShareButtonClick(this, 'Google+')" href="https://plus.google.com/share?url=https://rusith.github.io/Genie" target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/google.png" alt="Google" />
            </a>

            <!-- LinkedIn -->
            <a onclick="onShareButtonClick(this, 'LinkedIn')" href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://rusith.github.io/Genie" target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/linkedin.png" alt="LinkedIn" />
            </a>

            <!-- Print -->
            <a href="javascript:;" onclick="window.print()">
                <img src="https://simplesharebuttons.com/images/somacro/print.png" alt="Print" />
            </a>

            <!-- Reddit -->
            <a onclick="onShareButtonClick(this, 'Reddit')" href="http://reddit.com/submit?url=https://rusith.github.io/Genie&amp;title=Simple Share Buttons" target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/reddit.png" alt="Reddit" />
            </a>

            <!-- Twitter -->
            <a onclick="onShareButtonClick(this, 'Twitter')" href="https://twitter.com/share?url=https://rusith.github.io/Genie&amp;text=Simple%20Share%20Buttons&amp;hashtags=simplesharebuttons"
                target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/twitter.png" alt="Twitter" />
            </a>

            <!-- VK -->
            <a onclick="onShareButtonClick(this, 'VK')" href="http://vkontakte.ru/share.php?url=https://rusith.github.io/Genie" target="_blank">
                <img src="https://simplesharebuttons.com/images/somacro/vk.png" alt="VK" />
            </a>
        </div>
    </section>

    <section class="main-content">
        <p><a href="https://travis-ci.org/rusith/Genie"><img src="https://travis-ci.org/rusith/Genie.svg?branch=core" alt="Build Status" /></a>
            <a href="https://www.codacy.com/app/rusith/Genie?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=rusith/Genie&amp;utm_campaign=Badge_Grade"><img src="https://api.codacy.com/project/badge/Grade/e324714bae3447daa66079f239cb287b"/></a></p>

        <h3 id="dataaccesslayergenerator">Data Access Layer Generator</h3>

        <p>Genie is a cross platform .Net library that can generate a data access layer for any .Net or .Net Core application using
            a relational database.</p>

        <p>Genie has written in C# for .Net core framework</p>

        <h2 id="gettingstarted">Getting Started</h2>

        <ul>
            <li>Download latest release or build the project</li>
            <li>run GenieCLI executable from the genieSetting.json file's location. you can place the download somewhere and add an environment variable to that folder then you can run genie just by typing  'geniecli' </li>
        </ul>

        <iframe width="854" height="480" src="https://www.youtube.com/embed/0Jl1XI7XSSI" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>
        
        <h2 id="howitworks">How It Works</h2>

        <ul>
            <li>Takes the given configuration file (JSON) and validates the file.</li>
            <li>Reads the database schema and creates internal modal from it.</li>
            <li>Process the model and generates file content using templates</li>
            <li>Writes the file contents to the disk</li>
        </ul>

        <h2 id="configuration">Configuration</h2>

        <p>It should be something like this </p>

        <script src="https://gist.github.com/rusith/acdb1d9dcd1b1091ace946d32d39461d.js"></script>

        <h3 id="connectionstring">connectionString</h3>

        <p>A connection string that points to the target database. this connection string is only used to read database meta-data.
        </p>

        <h3 id="projectpath">projectPath</h3>

        <p>Path to the project (Data access layer of the target system). This path should point to a existing directory.</p>

        <h3 id="basenamespace">baseNamespace</h3>

        <p>The base namespace of the data access layer (ex :Example.DataAccess)</p>

        <h3 id="nodapper">noDapper</h3>

        <p> Include the dapper source code in the generated code (/Dapper) Dapper will not be included if set to true . will
            need to reference dapper externally. <b>This must be true if core is true.</b></p>

        <h3 id="core">core</h3>

        <p>If this is set to true , the generated code will target .net core framework. This uses .Net cores inbuilt DI. the
            DapperContext should be injected to use connection string.</p>

        <h3 id="projectfileoptional">projectFile (optional)</h3>

        <p>The relative path to the project file from project path. this is an optional property. if this is provided the generator
            will process the project file.</p>

        <h3 id="enumsoptional">enums (optional)</h3>

        <p>List of table details that can be used as enums. if a table has predefined set of rows which need to be accessed
            often,this table can be used as an enum table.</p>

        <p>example :</p>

        <p>the OrderType table (ID, Name) has 3 rows and these rows do not change. we can use this table as an enum table and
            can be defined in the configuration file as </p>

        <script src="https://gist.github.com/rusith/3d9ee937f363cf31606a95bf79fc90cf.js"></script>

        <ul>
            <li>type can be string / int / bool or double</li>
        </ul>

        <p>this will result a class which has static members for each row and and those members can be implicitly converted
            to the specified type.</p>

        <p>the resulting class will be something like this.</p>

        <script src="https://gist.github.com/rusith/fea959acd37268c2ba521e9ae7cb5f52.js"></script>

        <h1 id="generateddal">Generated DAL</h1>

        <p>The generated DAL uses <a href="https://github.com/StackExchange/Dapper">Dapper</a> (micro ORM) to map objects and
            to access the database.</p>

        <p>Implements unit of work pattern and repository pattern. each table and view has a model object and a repository.</p>

        <p>All repositories can be accessed through a unit of work.</p>

        <p>the DapperContext,should be a singleton. UnitOfWork, DapperContext can be implemented using a DI Container in an upper
            layer.
        </p>

        <script src="https://gist.github.com/rusith/00745a21bd2e86d1df6c86dd7f3b3e0a.js"></script>

        <h2 id="repositories">Repositories</h2>

        <p>UnitOfWork can be used to access the repositories. Unit() function in the DapperContext can be used to create new
            Unit A repository contains methods to get, add, update, remove database entities all unit of work objects must
            be used in a using block.</p>

        <p>a unit has the Commit method that can be used to commit changes to the database</p>

        <script src="https://gist.github.com/rusith/5191cfa3274810215c0e98884643ca41.js"></script>

        <h2 id="procedures">Procedures</h2>

        <p>All Stored procedures of the the database can be accessed through the Procedures object of any Unit Of Work object,
            all the parameters of the methods are nullable and null by default. A generic parameter should be provided in
            order to execute a procedure and the result will be mapped to the given class type.</p>

        <script src="https://gist.github.com/rusith/86cfaced58c9b9c1c5d93177818bd9a7.js"></script>

        <p>There are three functions for each procedure (List, Single and Void) List is for getting list of objects as the result
            Single is for getting single object as the result Void is for no result</p>

        <script src="https://gist.github.com/rusith/2edd5166363692c6a9788ffe255419d9.js"></script>

        <h2 id="querying">Querying</h2>

        <p>DAL provides an easy way to filter objects. this is a Builder like pattern to filter objects. there is a QueryContext
            implemented for all repositories. user can access it through the <code>Get()</code> method of any repository.
            the <code>Get</code> method returns a QueryContext that is specific for the object type of the repository.</p>

        <h3 id="querycontext">QueryContext</h3>

        <p>A QueryContext contains some methods to filter, order, page the result</p>

        <h4 id="where">Where</h4>

        <p>There is a FilterContext that can be used to filter the query there is a property for each column and these properties
            can be used to chain the complete filter expression. each two expressions should be connected using And || Or
            , however if you do not specify a boolean operator between two expressions it will be <code>and</code> by default.</p>

        <script src="https://gist.github.com/rusith/4688571ad06209f5233fe3699c399d4c.js"></script>

        <p>there is a filter for every data type and every filter contains methods to filter the property. the <code>Filter()</code>            method returns the parent QueryContext.</p>

        <h4 id="orderby">OrderBy</h4>

        <p>There is a OrderContext that can be used to order the query there is a property for each column and these properties
            can be used to chain the complete order expression. an order expression can be Descending or Ascending.</p>

        <script src="https://gist.github.com/rusith/6d6e9e26e9e3d88e851245398be45126.js"></script>

        <p>the <code>Order()</code> method returns the parent QueryContext.</p>

        <h3 id="page">Page</h3>

        <p>The <code>Page</code> function can be used to add paging to the query.</p>

        <h3 id="top">Top</h3>

        <p>Add a limit to the query.</p>

        <h3 id="skip">Skip</h3>

        <p>Skip can be used to skip certain rows from the query result.</p>

        <h3 id="take">Take</h3>

        <p>Skip can be used to Take only certain rows from the query result. Skip and Take can be used together to page the
            result.
        </p>

        <h3 id="queryfunction">Query Function</h3>

        <p>The <code>Query</code> function ends the QueryContext and returns the query result.</p>

        <h3 id="countfunction">Count Function</h3>

        <p>The <code>Count</code> function returns the count of the result.</p>

        <h3 id="filter">Filter</h3>

        <p>This function needs an <code>IEnumerable&lt;IPropertyFilter&gt;</code> which is a collection of property names, operations
            and values(if necessary) . this method can be used to filter the result in a customizable way How the operations
            are filtered and what are the operations : </p>

        <script src="https://gist.github.com/rusith/4f459cbf00dfea32886b55c2dede8933.js"></script>

        <h2 id="transactions">Transactions</h2>

        <p>You can start a transaction by calling <code>BeginTransaction</code> method in the UnitOfWork then you should pass
            the transaction to all methods you use in repositories. you can use the <code>Commit</code> method in the UnitOfWork
            to commit the transaction.</p>
        </div>
    </section>

    <div style="text-align: center;">
            <div class="fb-comments" data-href="https://rusith.github.io/Genie" data-width="800px" data-numposts="10"></div>
    </div>
    

    <!--Scripts-->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-106184053-1', 'auto');
        ga('send', 'pageview');

        function onShareButtonClick(obj, name)
        {
            var href = obj.getAttribute("href");
            ga('send', 'event' , 'social', name , name + ' Share', href);
            window.open(href, '_blank');
        }
    </script>

</body>



</html>
